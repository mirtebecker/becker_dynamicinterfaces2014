<html>
	<head>
		<title>Windows 98 | 3D Maze Screensaver</title>
		<style>
		body {
        	margin: 0px;
        	padding: 0px;
        }
        </style>
	</head>
	<body>
		<script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
		<script src="js/flyControls.js"></script>
		<script>
		
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
			camera.position.z = 5;
			
			controls = new THREE.FlyControls( camera );
			controls.dragToLook = true;

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);
			
			// walls
			var wallTexture = THREE.ImageUtils.loadTexture('img/wall.jpg');
			wallTexture.wrapS = THREE.RepeatWrapping; 
			wallTexture.wrapT = THREE.RepeatWrapping;
			wallTexture.repeat.set(2, 2);
			var wallMaterial = new THREE.MeshBasicMaterial({ map: wallTexture });
			
			var box1 = new THREE.Mesh(new THREE.CubeGeometry(2, 2, 4), wallMaterial);
			box1.position.x = 0;
			box1.position.y = 0;
			box1.position.z = -4;
			box1.rotation.y = Math.PI / 2;
			scene.add(box1);
			
			var box2 = new THREE.Mesh(new THREE.CubeGeometry(4, 4, 4), wallMaterial);
			box2.position.x = -4;
			box2.position.y = 0;
			box2.position.z = 0;
			box2.rotation.y = 0;
			scene.add(box2);
			
			var box3 = new THREE.Mesh(new THREE.CubeGeometry(4, 4, 6), wallMaterial);
			box3.position.x = 5;
			box3.position.y = 0;
			box3.position.z = -4;
			box3.rotation.y = 0;
			scene.add(box3);
			
			// ceiling
			var ceilingTexture = THREE.ImageUtils.loadTexture('img/ceiling.jpg');
			ceilingTexture.wrapS = THREE.RepeatWrapping; 
			ceilingTexture.wrapT = THREE.RepeatWrapping;
			ceilingTexture.repeat.set(10, 10); 

			var ceilingMaterial = new THREE.MeshBasicMaterial({ map: ceilingTexture });
			var ceiling = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), ceilingMaterial);
			ceiling.position.y = 20;
			ceiling.rotation.x = Math.PI / 2;
			scene.add(ceiling);
			
			// floor
			var floorTexture = new THREE.ImageUtils.loadTexture('img/floor.jpg');
			floorTexture.wrapS = THREE.RepeatWrapping; 
			floorTexture.wrapT = THREE.RepeatWrapping;
			floorTexture.repeat.set(10, 10);
			
			var floorMaterial = new THREE.MeshBasicMaterial({ map: floorTexture });
			var floor = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), floorMaterial);
			floor.position.y = -20;
			floor.rotation.x = -Math.PI / 2;
			scene.add(floor);
			
			var render = function(){
				requestAnimationFrame(render);
				controls.update(1);
				renderer.render(scene, camera);
			};

			render();
			
		</script>
	</body>
</html>